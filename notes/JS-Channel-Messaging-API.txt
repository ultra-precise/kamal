Caution:
Always save the ports in variables, because ports are assigned only 
one time, the second time there will be no ports available in e.ports[0],
so to avoid the error, save the second port in a variable as 
port2 = e.ports[0]

Page-2

window.onmessage = function(e){
console.log(e.data, e.origin);
var port2 = e.ports[0]
port2.postMessage('Message received by IFrame: "' + e.data + '"');

};



port2.onmessage = function(e){
console.log(e.data, e.origin);
var port2 = e.ports[0]
port2.postMessage('Message received by IFrame: "' + e.data + '"');
};

=========
Page-1
var otherWindow = window.open("https://www.bing.com");

var channel = new MessageChannel();
var port1 = channel.port1;
port1.onmessage = handleMessage;
function handleMessage(e) {
 console.log(e.data);
}

otherWindow.postMessage('Hello from the main page!', "*", [channel.port2]);


port1.postMessage('Hello Agagin', "*");


